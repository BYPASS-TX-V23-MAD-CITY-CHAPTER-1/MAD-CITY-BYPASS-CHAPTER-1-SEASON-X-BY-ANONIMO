--[[
    AN√îNIMO TX - FPS BOOST PRO EDITION
    Recursos:
    - GUI flutuante moderna com sombras e efeitos
    - N√≠veis: Baixo, M√©dio, Alto, M√°ximo
    - Bot√£o de Otimiza√ß√£o Autom√°tica
    - Monitor de FPS e Mem√≥ria em tempo real
    - Sistema de Notifica√ß√µes (Sucesso/Falha)
    - Ajuste de Dist√¢ncia de Renderiza√ß√£o
    - Limpeza de Texturas, Part√≠culas, Luzes, Efeitos, Sons e Objetos
    - N√≠vel M√°ximo remove objetos agressivamente para melhor performance
    - Bot√£o para Mostrar/Esconder a Interface
    - Confirma√ß√£o antes da Limpeza M√°xima
    - CR√âDITOS: AN√îNIMO TX
--]]

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Lighting = game:GetService("Lighting")
local Workspace = game:GetService("Workspace")
local Stats = game:GetService("Stats")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer

-- Fun√ß√µes auxiliares de otimiza√ß√£o
local function removeIf(obj, condition)
    if condition and obj and obj.Parent then
        pcall(function()
            obj:Destroy()
        end)
    end
end

local function isFarAway(obj, cam)
    if obj:IsA("BasePart") then
        local dist = (cam.CFrame.Position - obj.Position).Magnitude
        return dist > 120
    end
    return false
end

-- Vari√°vel para controle do loop de otimiza√ß√£o cont√≠nua
local optimizationThread = nil

-- Configura√ß√£o da GUI
local screenGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
screenGui.Name = "FPSBoostProGui"
screenGui.ResetOnSpawn = false

-- Bot√£o de Alternar
local toggleButton = Instance.new("TextButton", screenGui)
toggleButton.Size = UDim2.new(0, 140, 0, 32)
toggleButton.Position = UDim2.new(0, 20, 0, 20)
toggleButton.Text = "Mostrar FPS Boost"
toggleButton.BackgroundColor3 = Color3.fromRGB(60, 60, 90)
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.Font = Enum.Font.GothamBold
toggleButton.TextSize = 14
toggleButton.AutoButtonColor = true
local toggleCorner = Instance.new("UICorner", toggleButton)
toggleCorner.CornerRadius = UDim.new(0, 8)

-- Fun√ß√£o de Notifica√ß√£o
local function notify(message, success)
    local notif = Instance.new("TextLabel", screenGui)
    notif.Text = message
    notif.Size = UDim2.new(0, 300, 0, 40)
    notif.Position = UDim2.new(0.5, -150, 0.1, 0)
    notif.BackgroundColor3 = success and Color3.fromRGB(30, 150, 50) or Color3.fromRGB(180, 50, 50)
    notif.BackgroundTransparency = 0.2
    notif.TextColor3 = Color3.new(1, 1, 1)
    notif.Font = Enum.Font.GothamBold
    notif.TextSize = 18
    notif.AnchorPoint = Vector2.new(0.5, 0)
    notif.BorderSizePixel = 0
    local notifCorner = Instance.new("UICorner", notif)
    notifCorner.CornerRadius = UDim.new(0, 6)

    TweenService:Create(notif, TweenInfo.new(0.3), {TextTransparency = 0, BackgroundTransparency = 0.2}):Play()
    task.delay(2, function()
        TweenService:Create(notif, TweenInfo.new(0.3), {TextTransparency = 1, BackgroundTransparency = 1}):Play()
        task.wait(0.3)
        notif:Destroy()
    end)
end

-- Display de FPS e Mem√≥ria
local fpsLabel = Instance.new("TextLabel", screenGui)
fpsLabel.Size = UDim2.new(0, 160, 0, 25)
fpsLabel.Position = UDim2.new(0, 180, 0, 20)
fpsLabel.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
fpsLabel.BackgroundTransparency = 0.3
fpsLabel.TextColor3 = Color3.new(1, 1, 1)
fpsLabel.Font = Enum.Font.Gotham
fpsLabel.TextSize = 14
fpsLabel.Text = "FPS: 0 | Mem: 0MB"
fpsLabel.BorderSizePixel = 0
local fpsCorner = Instance.new("UICorner", fpsLabel)
fpsCorner.CornerRadius = UDim.new(0, 6)

-- Label de Status
local statusLabel = Instance.new("TextLabel", screenGui)
statusLabel.Size = UDim2.new(0, 300, 0, 25)
statusLabel.Position = UDim2.new(0, 10, 0, 60)
statusLabel.BackgroundTransparency = 1
statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
statusLabel.Font = Enum.Font.GothamBold
statusLabel.TextSize = 16
statusLabel.Text = "Status: Aguardando..."

-- Popup de Confirma√ß√£o
local confirmFrame = Instance.new("Frame", screenGui)
confirmFrame.Size = UDim2.new(0, 300, 0, 120)
confirmFrame.Position = UDim2.new(0.5, -150, 0.5, -60)
confirmFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 60)
confirmFrame.Visible = false
confirmFrame.AnchorPoint = Vector2.new(0.5, 0.5)
local confirmCorner = Instance.new("UICorner", confirmFrame)
confirmCorner.CornerRadius = UDim.new(0, 10)

local confirmText = Instance.new("TextLabel", confirmFrame)
confirmText.Size = UDim2.new(1, -20, 0, 60)
confirmText.Position = UDim2.new(0, 10, 0, 5)
confirmText.BackgroundTransparency = 1
confirmText.TextColor3 = Color3.new(1, 1, 1)
confirmText.TextWrapped = true
confirmText.Text = "Todas texturas e objetos ser√£o removidos. Tem certeza?"
confirmText.Font = Enum.Font.Gotham
confirmText.TextSize = 16

local yesBtn = Instance.new("TextButton", confirmFrame)
yesBtn.Size = UDim2.new(0.45, -5, 0, 30)
yesBtn.Position = UDim2.new(0, 10, 1, -40)
yesBtn.Text = "Sim"
yesBtn.BackgroundColor3 = Color3.fromRGB(90, 150, 90)
local yesCorner = Instance.new("UICorner", yesBtn)
yesCorner.CornerRadius = UDim.new(0, 6)

local noBtn = Instance.new("TextButton", confirmFrame)
noBtn.Size = UDim2.new(0.45, -5, 0, 30)
noBtn.Position = UDim2.new(0.55, 0, 1, -40)
noBtn.Text = "N√£o"
noBtn.BackgroundColor3 = Color3.fromRGB(150, 70, 70)
local noCorner = Instance.new("UICorner", noBtn)
noCorner.CornerRadius = UDim.new(0, 6)

-- Frame Principal da GUI
local frame = Instance.new("Frame", screenGui)
frame.Size = UDim2.new(0, 260, 0, 320)
frame.Position = UDim2.new(0, 20, 0, 100)
frame.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
frame.BorderSizePixel = 0
frame.Visible = false
frame.Active = true
frame.Draggable = true
frame.BackgroundTransparency = 0.05
local UICorner = Instance.new("UICorner", frame)
UICorner.CornerRadius = UDim.new(0, 10)

-- Alternar Visibilidade do Frame
local uiVisible = false
toggleButton.MouseButton1Click:Connect(function()
    uiVisible = not uiVisible
    frame.Visible = uiVisible
    toggleButton.Text = uiVisible and "Esconder FPS Boost" or "Mostrar FPS Boost"
end)

-- T√≠tulo
local title = Instance.new("TextLabel", frame)
title.Text = "AN√îNIMO TX - FPS BOOST PRO"
title.Size = UDim2.new(1, 0, 0, 35)
title.BackgroundTransparency = 1
title.TextColor3 = Color3.fromRGB(200, 200, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 20

-- L√≥gica de Otimiza√ß√£o
local levels = {"Baixo", "M√©dio", "Alto", "M√°ximo"}
local selectedLevel = "Baixo"
local buttons = {}

-- Fun√ß√£o de Otimiza√ß√£o Principal (ATUALIZADA)
function updateOptimization(level)
    local cam = workspace.CurrentCamera

    for _, obj in ipairs(Workspace:GetDescendants()) do
        pcall(function()
            if level == "M√°ximo" then
                -- ‚ùå Efeitos visuais
                if obj:IsA("ParticleEmitter") or obj:IsA("Smoke") or obj:IsA("Fire") or obj:IsA("Trail") or obj:IsA("Beam") then
                    obj.Enabled = false
                end

                -- üîá Sons
                if obj:IsA("Sound") then
                    obj:Stop()
                    obj.Volume = 0
                end

                -- üñºÔ∏è Texturas
                if obj:IsA("Texture") or obj:IsA("Decal") then
                    removeIf(obj, true)
                end

                -- üéØ Interfaces e efeitos de tela
                if obj:IsA("BillboardGui") or obj:IsA("SurfaceGui") or obj:IsA("SelectionBox") or obj:IsA("Highlight") then
                    removeIf(obj, true)
                end

                -- üß± Partes f√≠sicas
                if obj:IsA("BasePart") then
                    obj.Material = Enum.Material.SmoothPlastic
                    obj.Reflectance = 0
                    obj.CastShadow = false
                    obj.Anchored = true
                    obj.CanCollide = false

                    if isFarAway(obj, cam) then
                        obj.Transparency = 1
                    end
                end

                -- üß≤ Alinhamentos e anima√ß√µes
                if obj:IsA("AlignPosition") or obj:IsA("AlignOrientation") or obj:IsA("BodyMover") or obj:IsA("AnimationController") or obj:IsA("Animator") then
                    removeIf(obj, true)
                end

                -- ü§ñ Humanoides
                if obj:IsA("Humanoid") then
                    obj:ChangeState(Enum.HumanoidStateType.Physics)
                    obj.WalkSpeed = 0
                    obj.JumpPower = 0
                    obj.AutoRotate = false
                    obj.BreakJointsOnDeath = false
                    obj:SetStateEnabled(Enum.HumanoidStateType.Running, false)
                    obj:SetStateEnabled(Enum.HumanoidStateType.Jumping, false)
                end

                -- üëï Roupas e acess√≥rios
                if obj:IsA("Accessory") or obj:IsA("Clothing") or obj:IsA("Shirt") or obj:IsA("Pants") or obj:IsA("CharacterMesh") then
                    removeIf(obj, true)
                end

            elseif level == "Alto" then
                -- Efeitos visuais: desabilitar
                if obj:IsA("ParticleEmitter") or obj:IsA("Smoke") or obj:IsA("Fire") or obj:IsA("Trail") or obj:IsA("Beam") then
                    obj.Enabled = false
                end

                -- Sons: parar e volume 0
                if obj:IsA("Sound") then
                    obj:Stop()
                    obj.Volume = 0
                end

                -- Texturas: remover
                if obj:IsA("Texture") or obj:IsA("Decal") then
                    removeIf(obj, true)
                end

                -- Interfaces e efeitos de tela: remover
                if obj:IsA("BillboardGui") or obj:IsA("SurfaceGui") or obj:IsA("SelectionBox") or obj:IsA("Highlight") then
                    removeIf(obj, true)
                end

                -- Partes f√≠sicas: ajustar material, sombra, etc.
                if obj:IsA("BasePart") then
                    obj.Material = Enum.Material.SmoothPlastic
                    obj.Reflectance = 0
                    obj.CastShadow = false
                end

                -- Alinhamentos e anima√ß√µes: remover
                if obj:IsA("AlignPosition") or obj:IsA("AlignOrientation") or obj:IsA("BodyMover") or obj:IsA("AnimationController") or obj:IsA("Animator") then
                    removeIf(obj, true)
                end

            elseif level == "M√©dio" then
                removeIf(obj, obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Smoke") or obj:IsA("Fire") or obj:IsA("Beam") or obj:IsA("SpotLight") or obj:IsA("SurfaceLight") or obj:IsA("PointLight") or obj:IsA("Decal"))
            elseif level == "Baixo" then
                removeIf(obj, obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Smoke") or obj:IsA("Fire") and obj.Lifetime.Max > 2)
            end
        end)
    end

    -- Configura√ß√µes de ilumina√ß√£o e streaming
    if level == "M√°ximo" or level == "Alto" then
        Lighting.FogEnd = 150
        Lighting.GlobalShadows = false
        Lighting.Brightness = 1
        Workspace.StreamingEnabled = true
        Workspace.StreamingTargetRadius = 64
    elseif level == "M√©dio" then
        Lighting.FogEnd = 500
        Lighting.GlobalShadows = true
    elseif level == "Baixo" then
        Lighting.FogEnd = 1000
        Lighting.GlobalShadows = true
    end
end

-- Bot√µes de N√≠vel
for i, level in ipairs(levels) do
    local btn = Instance.new("TextButton", frame)
    btn.Size = UDim2.new(1, -30, 0, 30)
    btn.Position = UDim2.new(0, 15, 0, 40 + (i - 1) * 35)
    btn.Text = level
    btn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 16
    btn.AutoButtonColor = true
    local corner = Instance.new("UICorner", btn)
    corner.CornerRadius = UDim.new(0, 6)

    btn.MouseButton1Click:Connect(function()
        if level == "M√°ximo" then
            confirmFrame.Visible = true
        else
            -- Parar o loop de otimiza√ß√£o cont√≠nua
            if optimizationThread then
                optimizationThread = false
            end

            selectedLevel = level
            statusLabel.Text = "Status: Otimizando ("..level..")"
            updateOptimization(level)
            statusLabel.Text = "Status: Conclu√≠do ("..level..")"
            notify("Otimiza√ß√£o: "..level.." Conclu√≠da!", true)
        end
    end)

    buttons[level] = btn
end

-- Bot√µes de Confirma√ß√£o
yesBtn.MouseButton1Click:Connect(function()
    confirmFrame.Visible = false
    selectedLevel = "M√°ximo"
    statusLabel.Text = "Status: Otimizando (M√°ximo)"

    -- Iniciar loop de otimiza√ß√£o cont√≠nua
    optimizationThread = true
    spawn(function()
        while optimizationThread do
            updateOptimization("M√°ximo")
            wait(10)
        end
    end)

    statusLabel.Text = "Status: Conclu√≠do (M√°ximo) (Cont√≠nuo)"
    notify("Otimiza√ß√£o M√°xima Conclu√≠da! (Cont√≠nuo)", true)
end)

noBtn.MouseButton1Click:Connect(function()
    confirmFrame.Visible = false
end)

-- Bot√£o de Otimiza√ß√£o Autom√°tica
local autoBtn = Instance.new("TextButton", frame)
autoBtn.Size = UDim2.new(1, -30, 0, 30)
autoBtn.Position = UDim2.new(0, 15, 0, 200)
autoBtn.Text = "Otimiza√ß√£o Autom√°tica"
autoBtn.BackgroundColor3 = Color3.fromRGB(150, 60, 60)
autoBtn.TextColor3 = Color3.new(1, 1, 1)
autoBtn.Font = Enum.Font.GothamBold
autoBtn.TextSize = 16
local corner = Instance.new("UICorner", autoBtn)
corner.CornerRadius = UDim.new(0, 6)

autoBtn.MouseButton1Click:Connect(function()
    selectedLevel = "M√°ximo"
    statusLabel.Text = "Status: Otimizando Automaticamente..."

    -- Iniciar loop de otimiza√ß√£o cont√≠nua
    optimizationThread = true
    spawn(function()
        while optimizationThread do
            updateOptimization("M√°ximo")
            wait(10)
        end
    end)

    statusLabel.Text = "Status: Conclu√≠do (Auto) (Cont√≠nuo)"
    notify("Otimiza√ß√£o Autom√°tica Conclu√≠da! (Cont√≠nuo)", true)
end)

-- Monitor de FPS
local fps, frames = 0, 0
RunService.RenderStepped:Connect(function(dt)
    frames += 1
    fps += dt
    if fps >= 1 then
        local mb = math.floor(Stats:GetTotalMemoryUsageMb())
        fpsLabel.Text = "FPS: " .. tostring(math.floor(frames / fps)) .. " | Mem: " .. mb .. "MB"
        fps, frames = 0, 0
    end
end)

-- CR√âDITOS FINAIS
local credits = Instance.new("TextLabel", frame)
credits.Size = UDim2.new(1, -20, 0, 20)
credits.Position = UDim2.new(0, 10, 1, -25)
credits.Text = "CRIADO POR: AN√îNIMO TX"
credits.TextColor3 = Color3.fromRGB(255, 255, 0)
credits.BackgroundTransparency = 1
credits.Font = Enum.Font.GothamBold
credits.TextSize = 12
