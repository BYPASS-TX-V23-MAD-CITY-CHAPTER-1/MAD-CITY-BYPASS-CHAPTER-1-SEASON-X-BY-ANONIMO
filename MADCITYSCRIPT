--[[
    AN√îNIMO TX - PAINEL ULTIMATE
    Recursos:
    - Anima√ß√£o de carregamento premium ajustada
    - Painel m√≥vel completo (n√£o apenas a barra)
    - Minimiza√ß√£o com √≠cone TX vis√≠vel
    - Aimbot integrado
    - Design profissional
]]

-- CONFIGURA√á√ïES
local key_atual = "Duck"
local tempo_total_horas = 120
local keyFile = "anonimo_tx_keydata.txt"

-- Verificar suporte
if not writefile or not readfile then
    game:GetService("StarterGui"):SetCore("SendNotification",{
        Title = "ERRO",
        Text = "Seu executor n√£o suporta writefile/readfile!",
        Duration = 10
    })
    return
end

-- Fun√ß√µes auxiliares
local function calcularTempoRestante(timestamp)
    return math.max((tempo_total_horas * 3600) - (os.time() - timestamp), 0)
end

-- ANIMA√á√ÉO DE CARREGAMENTO PREMIUM AJUSTADA
local function criarAnimacaoPremium()
    local transitionGui = Instance.new("ScreenGui")
    transitionGui.Name = "TXPremiumAnimation"
    transitionGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    transitionGui.Parent = game:GetService("CoreGui")

    -- Fundo preto fullscreen
    local background = Instance.new("Frame")
    background.Size = UDim2.new(1, 0, 1, 0)
    background.BackgroundColor3 = Color3.new(0, 0, 0)
    background.ZIndex = 10
    background.Parent = transitionGui

    -- Container para listras
    local stripeContainer = Instance.new("Frame")
    stripeContainer.Size = UDim2.new(1, 0, 1, 0)
    stripeContainer.BackgroundTransparency = 1
    stripeContainer.ZIndex = 11
    stripeContainer.Parent = background

    local colors = {
        Color3.fromRGB(255, 255, 255), -- Branco
        Color3.fromRGB(200, 0, 0),     -- Vermelho
        Color3.fromRGB(30, 30, 30)      -- Preto
    }

    -- Criar listras que preenchem toda a tela
    for i = 1, 30 do
        local stripe = Instance.new("Frame")
        stripe.Size = UDim2.new(0.05, 0, 2, 0)
        stripe.Position = UDim2.new((i-1)/30, 0, 0.5, 0)
        stripe.AnchorPoint = Vector2.new(0, 0.5)
        stripe.BackgroundColor3 = colors[math.random(1,3)]
        stripe.BorderSizePixel = 0
        stripe.ZIndex = 11
        stripe.Parent = stripeContainer
        
        -- Anima√ß√£o de entrada com delay
        stripe.Size = UDim2.new(0.05, 0, 0, 0)
        local tweenIn = game:GetService("TweenService"):Create(
            stripe,
            TweenInfo.new(0.7, Enum.EasingStyle.Quint),
            {Size = UDim2.new(0.05, 0, 2, 0)}
        )
        
        delay((i-1)*0.05, function()
            tweenIn:Play()
        end)
    end

    -- Logo TX centralizada
    local logoContainer = Instance.new("Frame")
    logoContainer.Size = UDim2.new(0, 150, 0, 150)
    logoContainer.Position = UDim2.new(0.5, -75, 0.5, -75)
    logoContainer.BackgroundTransparency = 1
    logoContainer.ZIndex = 12
    logoContainer.Parent = background

    local logoCircle = Instance.new("Frame")
    logoCircle.Size = UDim2.new(1, 0, 1, 0)
    logoCircle.BackgroundColor3 = Color3.new(1, 1, 1)
    logoCircle.BackgroundTransparency = 1
    logoCircle.ZIndex = 12
    logoCircle.Parent = logoContainer

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(1, 0)
    corner.Parent = logoCircle

    local logoText = Instance.new("TextLabel")
    logoText.Size = UDim2.new(1, 0, 1, 0)
    logoText.Text = "TX"
    logoText.TextColor3 = Color3.new(0, 0, 0)
    logoText.BackgroundTransparency = 1
    logoText.Font = Enum.Font.GothamBlack
    logoText.TextSize = 60
    logoText.ZIndex = 12
    logoText.Parent = logoCircle

    -- Cr√©ditos
    local credits = Instance.new("TextLabel")
    credits.Size = UDim2.new(1, 0, 0, 30)
    credits.Position = UDim2.new(0, 0, 0.9, 0)
    credits.Text = "AN√îNIMO TX | PAINEL ULTIMATE"
    credits.TextColor3 = Color3.new(1, 1, 1)
    credits.BackgroundTransparency = 1
    credits.Font = Enum.Font.GothamBold
    credits.TextSize = 24
    credits.TextTransparency = 1
    credits.ZIndex = 12
    credits.Parent = background

    -- Anima√ß√£o sequencial
    delay(0.5, function()
        -- Anima√ß√£o do logo
        logoCircle.BackgroundTransparency = 0
        logoCircle.Size = UDim2.new(0, 0, 0, 0)
        local logoAnim = game:GetService("TweenService"):Create(
            logoCircle,
            TweenInfo.new(0.8, Enum.EasingStyle.Elastic),
            {Size = UDim2.new(1, 0, 1, 0), BackgroundTransparency = 0}
        )
        logoAnim:Play()

        -- Anima√ß√£o dos cr√©ditos
        wait(1)
        local creditsAnim = game:GetService("TweenService"):Create(
            credits,
            TweenInfo.new(0.8),
            {TextTransparency = 0}
        )
        creditsAnim:Play()

        -- Fechar transi√ß√£o
        wait(3)
        local fadeOut = game:GetService("TweenService"):Create(
            background,
            TweenInfo.new(1),
            {BackgroundTransparency = 1}
        )
        fadeOut:Play()

        fadeOut.Completed:Wait()
        transitionGui:Destroy()
    end)
end

-- PAINEL √öNICO COM TODAS FUN√á√ïES
local function criarPainelUltimate(tempoRestante)
    local Players = game:GetService("Players")
    local TweenService = game:GetService("TweenService")
    local UserInputService = game:GetService("UserInputService")
    local LocalPlayer = Players.LocalPlayer

    -- GUI Principal
    local gui = Instance.new("ScreenGui")
    gui.Name = "AnonimoTXUltimate"
    gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    gui.Parent = game:GetService("CoreGui")

    -- Main Frame
    local mainFrame = Instance.new("Frame")
    mainFrame.Size = UDim2.new(0, 380, 0, 520)
    mainFrame.Position = UDim2.new(0.05, 0, 0.5, -260)
    mainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    mainFrame.BorderSizePixel = 0
    mainFrame.Parent = gui

    -- Sombra
    local shadow = Instance.new("ImageLabel")
    shadow.Name = "Shadow"
    shadow.Image = "rbxassetid://1316045217"
    shadow.ImageColor3 = Color3.new(0, 0, 0)
    shadow.ImageTransparency = 0.8
    shadow.ScaleType = Enum.ScaleType.Slice
    shadow.SliceCenter = Rect.new(10, 10, 118, 118)
    shadow.Size = UDim2.new(1, 10, 1, 10)
    shadow.Position = UDim2.new(0, -5, 0, -5)
    shadow.BackgroundTransparency = 1
    shadow.Parent = mainFrame
    shadow.ZIndex = mainFrame.ZIndex - 1

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 10)
    corner.Parent = mainFrame

    -- Barra de t√≠tulo
    local titleBar = Instance.new("Frame")
    titleBar.Size = UDim2.new(1, 0, 0, 40)
    titleBar.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
    titleBar.Parent = mainFrame
    titleBar.ZIndex = 2

    local titleCorner = Instance.new("UICorner")
    titleCorner.CornerRadius = UDim.new(0, 10)
    titleCorner.Parent = titleBar

    local titleText = Instance.new("TextLabel")
    titleText.Size = UDim2.new(0.7, 0, 1, 0)
    titleText.Position = UDim2.new(0.15, 0, 0, 0)
    titleText.Text = "AN√îNIMO TX ULTIMATE"
    titleText.TextColor3 = Color3.new(1, 1, 1)
    titleText.BackgroundTransparency = 1
    titleText.Font = Enum.Font.GothamBlack
    titleText.TextSize = 18
    titleText.ZIndex = 2
    titleText.Parent = titleBar

    -- Bot√µes de controle
    local minimizeBtn = Instance.new("TextButton")
    minimizeBtn.Size = UDim2.new(0, 40, 0, 40)
    minimizeBtn.Position = UDim2.new(1, -40, 0, 0)
    minimizeBtn.Text = "_"
    minimizeBtn.TextColor3 = Color3.new(1, 1, 1)
    minimizeBtn.BackgroundTransparency = 1
    minimizeBtn.Font = Enum.Font.GothamBold
    minimizeBtn.TextSize = 20
    minimizeBtn.ZIndex = 2
    minimizeBtn.Parent = titleBar

    local closeBtn = Instance.new("TextButton")
    closeBtn.Size = UDim2.new(0, 40, 0, 40)
    closeBtn.Position = UDim2.new(1, -80, 0, 0)
    closeBtn.Text = "X"
    closeBtn.TextColor3 = Color3.new(1, 1, 1)
    closeBtn.BackgroundTransparency = 1
    closeBtn.Font = Enum.Font.GothamBold
    closeBtn.TextSize = 18
    closeBtn.ZIndex = 2
    closeBtn.Parent = titleBar

    -- Conte√∫do com scroll
    local scrollFrame = Instance.new("ScrollingFrame")
    scrollFrame.Size = UDim2.new(1, -20, 1, -100)
    scrollFrame.Position = UDim2.new(0, 10, 0, 50)
    scrollFrame.BackgroundTransparency = 1
    scrollFrame.ScrollBarThickness = 6
    scrollFrame.ScrollBarImageColor3 = Color3.fromRGB(200, 0, 0)
    scrollFrame.CanvasSize = UDim2.new(0, 0, 0, 700)
    scrollFrame.Parent = mainFrame

    local layout = Instance.new("UIListLayout", scrollFrame)
    layout.Padding = UDim.new(0, 12)
    
    -- Informa√ß√µes do jogador
    local playerFrame = Instance.new("Frame")
    playerFrame.Size = UDim2.new(1, 0, 0, 90)
    playerFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    playerFrame.Parent = scrollFrame

    local playerCorner = Instance.new("UICorner")
    playerCorner.CornerRadius = UDim.new(0, 8)
    playerCorner.Parent = playerFrame

    local avatar = Instance.new("ImageLabel")
    avatar.Size = UDim2.new(0, 70, 0, 70)
    avatar.Position = UDim2.new(0.03, 0, 0.5, -35)
    avatar.Image = Players:GetUserThumbnailAsync(LocalPlayer.UserId, Enum.ThumbnailType.HeadShot, Enum.ThumbnailSize.Size100x100)
    avatar.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    avatar.Parent = playerFrame

    local avatarCorner = Instance.new("UICorner")
    avatarCorner.CornerRadius = UDim.new(1, 0)
    avatarCorner.Parent = avatar

    local nameLabel = Instance.new("TextLabel")
    nameLabel.Size = UDim2.new(0.7, 0, 0, 30)
    nameLabel.Position = UDim2.new(0.25, 0, 0.3, 0)
    nameLabel.Text = "üë§ "..LocalPlayer.Name
    nameLabel.TextColor3 = Color3.new(1, 1, 1)
    nameLabel.BackgroundTransparency = 1
    nameLabel.Font = Enum.Font.GothamBold
    nameLabel.TextXAlignment = Enum.TextXAlignment.Left
    nameLabel.TextSize = 16
    nameLabel.Parent = playerFrame

    local timeLabel = Instance.new("TextLabel")
    timeLabel.Size = UDim2.new(0.7, 0, 0, 30)
    timeLabel.Position = UDim2.new(0.25, 0, 0.6, 0)
    timeLabel.Text = "‚è≥ "..math.floor(tempoRestante/3600).."h "..math.floor((tempoRestante%3600)/60).."m restantes"
    timeLabel.TextColor3 = Color3.new(1, 1, 1)
    timeLabel.BackgroundTransparency = 1
    timeLabel.Font = Enum.Font.Gotham
    timeLabel.TextXAlignment = Enum.TextXAlignment.Left
    timeLabel.TextSize = 14
    timeLabel.Parent = playerFrame

    -- Bot√µes de Auto Farm
    local autoFarmLabel = Instance.new("TextLabel")
    autoFarmLabel.Size = UDim2.new(1, 0, 0, 30)
    autoFarmLabel.Text = "‚öîÔ∏è AUTO FARM"
    autoFarmLabel.TextColor3 = Color3.fromRGB(255, 255, 100)
    autoFarmLabel.BackgroundTransparency = 1
    autoFarmLabel.Font = Enum.Font.GothamBold
    autoFarmLabel.TextSize = 18
    autoFarmLabel.TextXAlignment = Enum.TextXAlignment.Left
    autoFarmLabel.Parent = scrollFrame

    local autoFarmButtons = {
        {"üéØ AUTO XP", function()
            game.StarterGui:SetCore("SendNotification",{
                Title = "AN√îNIMO TX",
                Text = "AUTO BYPASS ATIVADO!",
                Duration = 10
            })
            loadstring(game:HttpGet("https://raw.githubusercontent.com/AdminEvilDRagon/Mad-Lads-V6-Revamp-GUI/main/Mad-Lads%20V6%20Revamp%20GUI", true))()
            
            -- Auto Reset
            spawn(function()
                while true do
                    wait(180)
                    LocalPlayer:LoadCharacter()
                end
            end)
        end},
        
        {"üí∞ AUTO ROP", function()
            loadstring(game:HttpGet('https://raw.githubusercontent.com/VanPotent/EpicHub/main/my/ar',true))()
        end},
        
        {"‚ö° AUTO LEVEL 100", function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/Cesare0328/my-scripts/main/XP-FARM-1MIN.lua"))()
        end},
        
        {"üéØ AIMBOT - TX", function()
            loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Aimbot-Universal-For-Mobile-and-PC-29153"))()
            game.StarterGui:SetCore("SendNotification",{
                Title = "AN√îNIMO TX",
                Text = "Aimbot ativado com sucesso!",
                Duration = 5
            })
        end}
    }

    for i, btnData in ipairs(autoFarmButtons) do
        local btn = Instance.new("TextButton")
        btn.Size = UDim2.new(1, 0, 0, 45)
        btn.Text = btnData[1]
        btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
        btn.TextColor3 = Color3.new(1, 1, 1)
        btn.Font = Enum.Font.GothamBold
        btn.TextSize = 16
        btn.Parent = scrollFrame
        
        local btnCorner = Instance.new("UICorner")
        btnCorner.CornerRadius = UDim.new(0, 8)
        btnCorner.Parent = btn
        
        -- Efeito hover
        btn.MouseEnter:Connect(function()
            TweenService:Create(btn, TweenInfo.new(0.2), {
                BackgroundColor3 = Color3.fromRGB(60, 60, 60)
            }):Play()
        end)
        
        btn.MouseLeave:Connect(function()
            TweenService:Create(btn, TweenInfo.new(0.2), {
                BackgroundColor3 = Color3.fromRGB(40, 40, 40)
            }):Play()
        end)
        
        btn.MouseButton1Click:Connect(btnData[2])
    end

    -- Bot√µes de Otimiza√ß√£o
    local otimizacaoLabel = Instance.new("TextLabel")
    otimizacaoLabel.Size = UDim2.new(1, 0, 0, 30)
    otimizacaoLabel.Text = "üöÄ OTIMIZA√á√ÉO"
    otimizacaoLabel.TextColor3 = Color3.fromRGB(255, 255, 100)
    otimizacaoLabel.BackgroundTransparency = 1
    otimizacaoLabel.Font = Enum.Font.GothamBold
    otimizacaoLabel.TextSize = 18
    otimizacaoLabel.TextXAlignment = Enum.TextXAlignment.Left
    otimizacaoLabel.Parent = scrollFrame

    local otimizacaoButtons = {
        {"üßº OTIMIZA√á√ÉO EXTREMA", function()
            for _, obj in ipairs(game:GetDescendants()) do
                if obj:IsA("Decal") or obj:IsA("Texture") or obj:IsA("ParticleEmitter") or obj:IsA("Trail") then
                    obj:Destroy()
                elseif obj:IsA("BasePart") then
                    obj.Material = Enum.Material.Plastic
                    obj.Reflectance = 0
                end
            end
            settings().Rendering.QualityLevel = Enum.QualityLevel.Level01
            settings().Rendering.TextureQuality = Enum.TextureQuality.Low
            game.Lighting.GlobalShadows = false
            game.StarterGui:SetCore("SendNotification",{
                Title = "AN√îNIMO TX",
                Text = "Otimiza√ß√£o extrema aplicada!",
                Duration = 5
            })
        end},
        
        {"üìà FPS BOOST PRO", function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/BYPASS-TX-V23-MAD-CITY-CHAPTER-1/MAD-CITY-BYPASS-CHAPTER-1-SEASON-X-BY-ANONIMO/main/BYPASS"))()
        end}
    }

    for i, btnData in ipairs(otimizacaoButtons) do
        local btn = Instance.new("TextButton")
        btn.Size = UDim2.new(1, 0, 0, 45)
        btn.Text = btnData[1]
        btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
        btn.TextColor3 = Color3.new(1, 1, 1)
        btn.Font = Enum.Font.GothamBold
        btn.TextSize = 16
        btn.Parent = scrollFrame
        
        local btnCorner = Instance.new("UICorner")
        btnCorner.CornerRadius = UDim.new(0, 8)
        btnCorner.Parent = btn
        
        -- Efeito hover
        btn.MouseEnter:Connect(function()
            TweenService:Create(btn, TweenInfo.new(0.2), {
                BackgroundColor3 = Color3.fromRGB(60, 60, 60)
            }):Play()
        end)
        
        btn.MouseLeave:Connect(function()
            TweenService:Create(btn, TweenInfo.new(0.2), {
                BackgroundColor3 = Color3.fromRGB(40, 40, 40)
            }):Play()
        end)
        
        btn.MouseButton1Click:Connect(btnData[2])
    end

    -- Informa√ß√µes de otimiza√ß√£o
    local infoLabel = Instance.new("TextLabel")
    infoLabel.Size = UDim2.new(1, 0, 0, 100)
    infoLabel.Text = "‚ö†Ô∏è AVISO:\nO FPS Boost Pro pode causar:\n- Remo√ß√£o de texturas\n- Efeitos visuais reduzidos\n- Melhor performance em PCs fracos"
    infoLabel.TextColor3 = Color3.fromRGB(255, 150, 150)
    infoLabel.BackgroundTransparency = 1
    infoLabel.Font = Enum.Font.Gotham
    infoLabel.TextSize = 14
    infoLabel.TextYAlignment = Enum.TextYAlignment.Top
    infoLabel.Parent = scrollFrame

    -- Controles do painel
    local minimized = false
    local originalSize = mainFrame.Size
    local originalPosition = mainFrame.Position
    local miniIcon = nil

    -- Sistema de arrastar para todo o painel
    local dragging
    local dragInput
    local dragStart
    local startPos

    local function update(input)
        local delta = input.Position - dragStart
        mainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end

    mainFrame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = mainFrame.Position
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)

    mainFrame.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then
            dragInput = input
        end
    end)

    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            update(input)
        end
    end)

    -- Minimiza√ß√£o/Restaura√ß√£o com √≠cone TX
    minimizeBtn.MouseButton1Click:Connect(function()
        if minimized then
            -- Restaurar painel
            if miniIcon then
                miniIcon:Destroy()
                miniIcon = nil
            end
            
            mainFrame.Visible = true
            TweenService:Create(mainFrame, TweenInfo.new(0.3), {
                Size = originalSize,
                Position = originalPosition
            }):Play()
            
            minimizeBtn.Text = "_"
        else
            -- Salvar posi√ß√£o atual
            originalPosition = mainFrame.Position
            
            -- Criar √≠cone TX
            miniIcon = Instance.new("TextButton")
            miniIcon.Name = "MiniIconTX"
            miniIcon.Size = UDim2.new(0, 60, 0, 60)
            miniIcon.Position = originalPosition
            miniIcon.Text = "TX"
            miniIcon.TextColor3 = Color3.new(1, 1, 1)
            miniIcon.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
            miniIcon.Font = Enum.Font.GothamBlack
            miniIcon.TextSize = 24
            miniIcon.ZIndex = 100
            miniIcon.Parent = gui
            
            local iconCorner = Instance.new("UICorner")
            iconCorner.CornerRadius = UDim.new(1, 0)
            iconCorner.Parent = miniIcon
            
            -- Esconder painel principal
            TweenService:Create(mainFrame, TweenInfo.new(0.3), {
                Size = UDim2.new(0, 0, 0, 0),
                Position = UDim2.new(0, originalPosition.X.Offset + 30, 0, originalPosition.Y.Offset + 30)
            }):Play()
            
            minimizeBtn.Text = "+"
            
            -- Tornar √≠cone m√≥vel
            miniIcon.Active = true
            miniIcon.Draggable = true
            
            -- Bot√£o para restaurar
            miniIcon.MouseButton1Click:Connect(function()
                minimized = false
                miniIcon:Destroy()
                miniIcon = nil
                
                mainFrame.Visible = true
                TweenService:Create(mainFrame, TweenInfo.new(0.3), {
                    Size = originalSize,
                    Position = originalPosition
                }):Play()
                
                minimizeBtn.Text = "_"
            end)
        end
        minimized = not minimized
    end)

    -- Fechar
    closeBtn.MouseButton1Click:Connect(function()
        if miniIcon then
            miniIcon:Destroy()
        end
        
        TweenService:Create(mainFrame, TweenInfo.new(0.3), {
            Size = UDim2.new(0, 0, 0, 520),
            BackgroundTransparency = 1
        }):Play()
        wait(0.3)
        gui:Destroy()
    end)

    -- Atualizar tempo restante
    spawn(function()
        while gui and gui.Parent do
            wait(1)
            tempoRestante = tempoRestante - 1
            timeLabel.Text = "‚è≥ "..math.floor(tempoRestante/3600).."h "..math.floor((tempoRestante%3600)/60).."m restantes"
        end
    end)

    -- Cr√©ditos finais
    local credits = Instance.new("TextLabel")
    credits.Size = UDim2.new(1, -20, 0, 25)
    credits.Position = UDim2.new(0, 10, 1, -30)
    credits.Text = "CRIADO POR: AN√îNIMO TX | VERS√ÉO ULTIMATE"
    credits.TextColor3 = Color3.fromRGB(255, 255, 0)
    credits.BackgroundTransparency = 1
    credits.Font = Enum.Font.GothamBold
    credits.TextSize = 12
    credits.Parent = mainFrame
end

-- VERIFICA√á√ÉO DE LOGIN
local autorizado, tempoRestante = false, tempo_total_horas * 3600
if isfile(keyFile) then
    local dados = readfile(keyFile)
    local partes = string.split(dados, "|")
    if partes[1] == key_atual then
        tempoRestante = calcularTempoRestante(tonumber(partes[2]))
        autorizado = tempoRestante > 0
    end
end

if not autorizado then
    -- TELA DE LOGIN
    local loginGui = Instance.new("ScreenGui")
    loginGui.Name = "TXLogin"
    loginGui.Parent = game:GetService("CoreGui")

    local loginFrame = Instance.new("Frame")
    loginFrame.Size = UDim2.new(0, 320, 0, 220)
    loginFrame.Position = UDim2.new(0.5, -160, 0.5, -110)
    loginFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    loginFrame.Parent = loginGui

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 10)
    corner.Parent = loginFrame

    local title = Instance.new("TextLabel")
    title.Size = UDim2.new(1, 0, 0, 60)
    title.Text = "üîê AN√îNIMO TX - LOGIN"
    title.TextColor3 = Color3.new(1, 1, 1)
    title.BackgroundTransparency = 1
    title.Font = Enum.Font.GothamBlack
    title.TextSize = 22
    title.Parent = loginFrame

    local keyBox = Instance.new("TextBox")
    keyBox.Size = UDim2.new(0.8, 0, 0, 45)
    keyBox.Position = UDim2.new(0.1, 0, 0.3, 0)
    keyBox.PlaceholderText = "Digite a key..."
    keyBox.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    keyBox.TextColor3 = Color3.new(1, 1, 1)
    keyBox.Font = Enum.Font.Gotham
    keyBox.TextSize = 18
    keyBox.Parent = loginFrame

    local keyCorner = Instance.new("UICorner")
    keyCorner.CornerRadius = UDim.new(0, 8)
    keyCorner.Parent = keyBox

    local loginBtn = Instance.new("TextButton")
    loginBtn.Size = UDim2.new(0.6, 0, 0, 45)
    loginBtn.Position = UDim2.new(0.2, 0, 0.65, 0)
    loginBtn.Text = "ENTRAR"
    loginBtn.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
    loginBtn.TextColor3 = Color3.new(1, 1, 1)
    loginBtn.Font = Enum.Font.GothamBlack
    loginBtn.TextSize = 18
    loginBtn.Parent = loginFrame

    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 8)
    btnCorner.Parent = loginBtn

    loginBtn.MouseButton1Click:Connect(function()
        if keyBox.Text == key_atual then
            writefile(keyFile, key_atual.."|"..os.time())
            loginGui:Destroy()
            criarAnimacaoPremium()
            wait(4) -- Esperar anima√ß√£o completa
            criarPainelUltimate(tempo_total_horas * 3600)
        else
            loginBtn.Text = "KEY INV√ÅLIDA!"
            wait(1)
            loginBtn.Text = "ENTRAR"
        end
    end)
else
    criarAnimacaoPremium()
    wait(4) -- Esperar anima√ß√£o completa
    criarPainelUltimate(tempoRestante)
end
