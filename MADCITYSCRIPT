
--[[ 
  ‚úÖ SCRIPT DE OTIMIZA√á√ÉO + FUN√á√ïES EXTRAS
  üîí Sistema de Login por Key
  ‚è∞ Timer de 120 horas (5 dias)
  üë§ Mostra nome do jogador
  üì¶ Desenvolvido por AN√îNIMO - TX
--]]

if not writefile or not readfile then
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Erro",
        Text = "Seu executor n√£o suporta writefile/readfile.",
        Duration = 10
    })
    return
end

-- CONFIGURA√á√ïES DE KEY
local key_atual = "ANONIMO-TX-KEY"
local tempo_total_horas = 120
local keyFile = "keySystemData.txt"

-- Fun√ß√£o para calcular tempo restante
local function calcularTempoRestante(timestamp)
    local agora = os.time()
    local tempoUsado = agora - tonumber(timestamp)
    local tempoRestante = math.max((tempo_total_horas * 3600) - tempoUsado, 0)
    return tempoRestante
end

-- Verifica se j√° tem tempo salvo
local autorizado = false
local tempoRestante = tempo_total_horas * 3600
if isfile(keyFile) then
    local dados = readfile(keyFile)
    local partes = string.split(dados, "|")
    if partes[1] == key_atual then
        tempoRestante = calcularTempoRestante(partes[2])
        if tempoRestante > 0 then
            autorizado = true
        end
    end
end

-- Tela de login com key
if not autorizado then
    local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
    local Frame = Instance.new("Frame", ScreenGui)
    local TextBox = Instance.new("TextBox", Frame)
    local Button = Instance.new("TextButton", Frame)
    local UICorner = Instance.new("UICorner", Frame)

    ScreenGui.Name = "LoginKeyGUI"
    Frame.Size = UDim2.new(0, 250, 0, 120)
    Frame.Position = UDim2.new(0.5, -125, 0.5, -60)
    Frame.BackgroundColor3 = Color3.fromRGB(30,30,30)
    UICorner.CornerRadius = UDim.new(0, 8)
    UICorner.Parent = Frame

    TextBox.Size = UDim2.new(0.8, 0, 0, 35)
    TextBox.Position = UDim2.new(0.1, 0, 0.2, 0)
    TextBox.PlaceholderText = "Digite a Key"
    TextBox.Text = ""
    TextBox.TextScaled = true
    TextBox.BackgroundColor3 = Color3.fromRGB(50,50,50)

    Button.Size = UDim2.new(0.6, 0, 0, 30)
    Button.Position = UDim2.new(0.2, 0, 0.65, 0)
    Button.Text = "Verificar"
    Button.BackgroundColor3 = Color3.fromRGB(0, 170, 127)
    Button.TextScaled = true

    Button.MouseButton1Click:Connect(function()
        if TextBox.Text == key_atual then
            writefile(keyFile, key_atual.."|"..tostring(os.time()))
            ScreenGui:Destroy()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/TXAnonimo/roblox-ultimate/main/full_script.lua"))()
        else
            Button.Text = "Key Inv√°lida"
        end
    end)

    return
end

-- Caso autorizado, executar painel completo
loadstring(game:HttpGet("https://raw.githubusercontent.com/TXAnonimo/roblox-ultimate/main/full_script.lua"))()
